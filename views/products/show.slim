h1#show-head å•†å“ä¸€è¦§
form.uk-form method='get' action="/cgi-bin/DBE/index.cgi/products/new"
  button.uk-button.uk-button-primary#new = 'æ–°è¦ç™»éŒ²'
form.uk-form#search action="#"
  input type="text" name="search" value="" id="id-search"
    = ' ğŸ”æ¤œç´¢'
table.uk-table#sortable
  thead
    tr
      th pid â–²â–¼
      th name â–²â–¼
      th cost â–²â–¼
      th price â–²â–¼
      th command
  tbody
    - @res.each do |data|
      tr
        td#data = data['pid'].to_s
        td#data = data['name'].to_s
        td#data = data['cost'].to_s
        td#data = data['price'].to_s
        td#command
          - id = data['pid'].to_s
          div id="#{id}"
            button.uk-button.uk-button-success.edit.= 'ç·¨é›†'
            button.uk-button.uk-button-danger.delete = 'å‰Šé™¤'

javascript:
  $('.edit').click(function() {
    $.get('/cgi-bin/DBE/index.cgi/products/edit')
  });
  $('.delete').click(function() {
    var el = $(this).parent();
    UIkit.modal.confirm("æœ¬å½“ã«å‰Šé™¤ã—ã¦ã‚‚è‰¯ã„ã§ã™ã‹?", function() {
      $.post('/cgi-bin/DBE/index.cgi/products/delete', {
        id: el.attr('id')
      }, function() {
        el.parent().parent().fadeOut(200);
        console.debug('remove line');
      });
    });
  })
  $('input#id-search').quicksearch('table tbody tr');
  $('#sortable').tablesorter({
    headers: {
      4: {sorter:false}
    }
  });

